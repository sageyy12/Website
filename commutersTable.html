<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Commuters every year</title>
       <link rel="stylesheet" href="commutersTableCSS.css">
       <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
       <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>
       <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  </head>
  <body>
    <nav class="nav">
        <div class="logo-content">
          <div class="logo">
            <a href="dashboard.html">
              <img src="images/logo.png"></a>
                <div class="logo-name">Commuters</div>
                <button id="logout">Logout</button>
            </div>
        </div>
    </nav>

    <div class="sidebar">
        <i class='bx bx-menu' id="btn"></i>
        <ul class="navList">
            <li>
                <a href="adminProfile.html">
                <img src="images/admin.png">
                <span class="links_name">Admin Profile</span>
                </a>
                <span class="tooltip">Admin</span>
            </li>
            <li>
                <a href="announcement.html">
                <img src="images/announcement.png">
                <span class="links_name">Announcement</span>
                </a>
                <span class="tooltip">Announcement</span>
            </li>
            <li>
                <a href="ShuttleDriverAcct.html">
                <img src="images/Shuttle Drivers Account.png">
                <span class="links_name">Shuttle Driver’s Account</span>
                </a>
                <span class="tooltip">Driver</span>
            </li>
            <li>
                <a href="CoomutersAcct.html">
                <img src="images/Commuters Account.png">
                <span class="links_name">Commuter’s Account</span>
                </a>
                <span class="tooltip">Commuter</span>
            </li>
            <li>
                <a href="complaintsNfeedback.html">
                <img src="images/Complaints and Feedbacks.png">
                <span class="links_name">Complaints and Feedbacks</span>
                </a>
                <span class="tooltip">Complaints</span>
            </li>
            <li>
                <a href="boundaryRemit.html">
                <img src="images/Boundary Remittance.png">
                <span class="links_name">Boundary Remittance</span>
                </a>
                <span class="tooltip">Boundary</span>
            </li>
            <li>
                <a href="reload.html">
                  <!--img src="images/reload.png"!-->
                  <i class='bx bx-wallet'></i>
                <span class="links_name">Reload</span>
                </a>
                <span class="tooltip">Reload</span>
            </li>
            <li>
              <a href="withdrawal.html">
                <!--img src="images/reload.png"!-->
                <i class='bx bx-money-withdraw'></i>
              <span class="links_name">Withdraw</span>
              </a>
              <span class="tooltip">Withdraw</span>
          </li>
        </ul>
    </div>

    <div class="tableDiv">
    <link rel="stylesheet" href="https://cdn.datatables.net/1.10.13/css/jquery.dataTables.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.13/js/jquery.dataTables.min.js"></script>
    <table id="example" class="display" width="100%" cellspacing="0">
      <thead>
        <th>ID</th>
        <th>NAME</th>
        <th>EMAIL</th>
        <th>PHONE NUMBER</th>
        <th>Address</th>
        <th>Gcash</th>
        <th>Username</th>
        <th>VIEW</th>
        <th>UPDATE</th>
        <th>ACTION</th>
      </thead>
      <tbody id ="tbody1"> </tbody>

        <script type="module">
          var std = 0;
          var tbody = document.getElementById("tbody1");
          function AddItem(name,email,pn, address, gcash, Username) {
            let trow = document.createElement("tr");
            let td1 = document.createElement("td");
            let td2 = document.createElement("td");
            let td3 = document.createElement("td");
            let td4 = document.createElement("td");
            let td5 = document.createElement("td");
            let td6 = document.createElement("td");
            let td7 = document.createElement("td");
            let td8 = document.createElement("td");
            let td9 = document.createElement("td");
            let td10 = document.createElement("td");

            td1.innerHTML = ++std;
            td2.innerHTML = name;
            td3.innerHTML =email;
            td4.innerHTML = pn;
            td5.innerHTML = address;
            td6.innerHTML =gcash;
            td7.innerHTML = Username;
            td8.innerHTML = "<td> <a href='viewCommutersAcct.html'><img src='images/view.png'></a></td>";
            td9.innerHTML = "<td> <a href='editCommutersAcct.html'><img src='images/update.png'></a></td>";
            td10.innerHTML = "<td colspan='2' class='actionbtn'> <a href='#activate_action'><img src='images/checkAction.png' id='active_actionbtns'></a><a href='#deactivate_action'><img src='images/Xaction.png' id='actionbtns'></a></td>";

            trow.appendChild(td1);
            trow.appendChild(td2);
            trow.appendChild(td3);
            trow.appendChild(td4);
            trow.appendChild(td5);
            trow.appendChild(td6);
            trow.appendChild(td7);
            trow.appendChild(td8);
            trow.appendChild(td9);
            trow.appendChild(td10);

            tbody.appendChild(trow);

          }

          function AddAllItems(Commuters) {
            std=0;
            tbody.innerHTML="";
            Commuters.forEach(element => {
              var name =element.first_Name + " " + element.last_Name;
              AddItem(name, element.email, element.phone_Number, element.address, element.gcash, element.username)
            });
          }

          import { initializeApp } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-app.js";
          import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-analytics.js";

          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries

          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyBfq-ptJkg7y-hJpyJrVq8x0PNoM4fT7cY",
            authDomain: "shuttle-go-8d87a.firebaseapp.com",
            databaseURL: "https://shuttle-go-8d87a-default-rtdb.firebaseio.com",
            projectId: "shuttle-go-8d87a",
            storageBucket: "shuttle-go-8d87a.appspot.com",
            messagingSenderId: "509853219067",
            appId: "1:509853219067:web:5e6b7fb55bbdba9cc0985e",
            measurementId: "G-3YGP2PY9QX"
          };

          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const analytics = getAnalytics(app);

          import {getDatabase, ref, child, onValue, get } from "https://www.gstatic.com/firebasejs/9.9.0/firebase-database.js";
          const db = getDatabase();

          //getting items from firebase

          function getAllData() {
              const dbref = ref(db);
              get(child(dbref, "Commuters"))
              .then((snapshot) => {
                var commuter = [];
                snapshot.forEach(childSnapshot => {
                  commuter.push(childSnapshot.val());
                });
                AddAllItems(commuter);
              })
          }

          function getAllDataRT() {
              const dbRef = ref(db, "Commuters");

              onValue(dbRef,(snapshot)=>{
                var commuters = [];
                snapshot.forEach(childsnapshot => {
                  commuters.push(childsnapshot.val());
                });
                AddAllItems(commuters);
              })
          }

          window.onLoad = getAllDataRT();
        </script>
  <script>

    let btn= document.querySelector("#btn");
    let sidebar= document.querySelector(".sidebar");
    btn.onclick= function(){
      sidebar.classList.toggle("active");
    }

    //table
    $(document).ready(function() {
      $('#example').DataTable( {
        "pagingType": "full_numbers"
      } );
    } );
  </script>
</table>
</div>
<footer class="footer-distributed">

        <div class="footer-left">
            <h3>Washington <span>Place</span></h3>

            <p class="footer-links">
                <a href="dashboard.html">Dashboard</a>
                |
                <a href="commutersTable.html">All commuters</a>
                |
                <a href="login.html">Log in</a>
            </p>

            <p id="coltext">DOWNLOAD OUR APP HERE:</p>
            <div class="content">
              <p><a href="https://drive.google.com/file/d/1d8tUT5DQuuEI0k3D9PMNzJ99qE45hrwl/view?usp=sharing"> For commuters click here </a></p>
              <p><a href="https://drive.google.com/file/d/1d8tUT5DQuuEI0k3D9PMNzJ99qE45hrwl/view?usp=sharing"> For drivers click here </a></p>
            </div>
        </div>

        <div class="footer-center">
            <div>
                <i class="fa fa-map-marker"></i>
                <p><span>Sampaloc II, Dasmariñas,</span>
                    <strong>Philippines</strong></p>
            </div>

            <div>
                <i class="fa fa-phone"></i>
                <p>0943 302 9424</p>
            </div>
            <div>
                <i class="fa fa-envelope"></i>
                <p><a href="mailto:peteregencia@yahoo.com">peteregencia@yahoo.com</a></p>
            </div>
            <div>
                <i class="fa fa-facebook"></i>
                <p><a href="https://www.facebook.com/cavitewashington">Washington Place facebook page</a></p>
            </div>
            <div>
              <p class="footer-company-name">Copyright © 2022 <strong>WashingtonPlaceDasmarinas</strong> <br>
                All rights reserved</p>
            </div>
        </div>
        <div class="footer-right">
            <p class="footer-company-about">
                <span>About Washington Place Dasmarinas</span>
                <strong>Washington Place Dasmarinas</strong> Stateland’s newest and to date, the
                grandest development, is set to rise in the emerging city of Dasmariñas in Cavite. Encompassing 40
                hectares of prime property along Aguinaldo Highway, it is envisioned to become a landmark community
                that boasts of modern-themed architectural designs.
            </p>
            <!--div class="footer-icons">
                <a href="https://www.facebook.com/cavitewashington"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-instagram"></i></a>
                <a href="#"><i class="fa fa-linkedin"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-youtube"></i></a>
            </div!-->
        </div>
    </footer>
    </body>
</html>
